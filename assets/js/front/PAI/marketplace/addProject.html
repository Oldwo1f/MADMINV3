<section id="content">

	<div class="content-wrap">

		<div class="container clearfix">

			
			<!-- <flash-message duration="5000" show-close="true"></flash-message> -->

			<h1 style="padding-top:30px;">Ajouter des documents dans le marketplace</h1>
				
			<div class="clearfix"></div>
			
			<div>
				<wizard on-finish="finishedWizardAddContent()">
				
				<wz-step wz-title="Avant de soumettre">
			    	<h2>Avant de soumettre</h2>
			    	<p>Avant de soumettre un contenus, merci de lires et comprendre les points suivants</p>
				
				 	<uib-accordion close-others="oneAtATime">
					   	<div uib-accordion-group class="panel-default" is-open="status1.open">
					      <uib-accordion-heading>
					        <i class="icon-question-sign"></i> Quels sont les type de documents que je peux publié ?
					      </uib-accordion-heading>
					      Vous pouvez publié des etudes de marchée, des rapport d'etonnement, des e-books ou tout autre type de documents. Il doivents simplement être en rapport avec l'agroalimentaire.
					    </div>
				 	
					   	<div uib-accordion-group class="panel-default" is-open="status2.open">
					      <uib-accordion-heading>
					        <i class="icon-question-sign"></i> Comment est fixer le prix des documents?
					      </uib-accordion-heading>
					      Vous choisisser le prix de vente initiale de vos documents. Le marketplace calcule la part du club ainsi que l'évolution du prix en fonction du temps. Une fois que vous êtes d'accord avec les tarifs, c'est partis.
					    </div>
					   	<div uib-accordion-group class="panel-default" is-open="status2.open">
					      <uib-accordion-heading>
					        <i class="icon-question-sign"></i> Offrir un documents au club?
					      </uib-accordion-heading>
					      Si vous souhaiter offrir un document au club, c'est vous qui choississez le nombre de point collabs reçus en échange.
					    </div>
				   
					   	<div uib-accordion-group class="panel-default" is-open="status3.open">
					      <uib-accordion-heading>
					        <i class=" icon-comments-alt"></i> Quel est la commission club PAI sur les vente?
					      </uib-accordion-heading>
					      Le club récupère 30% des revenus générer par la vente de vos documents. Le club reverse sa part au membre premium, afin qu'il bénéficie d'une reductions sur tout le marketplace.
					    </div>
				    
					   	<div uib-accordion-group class="panel-default" is-open="status4.open">
					      <uib-accordion-heading>
					        <i class="icon-lock3"></i> Ou vont les bénéfices du marketplace?
					      </uib-accordion-heading>
					      Les bénéfices du marketplace servent à payer et entretenir le site internet. Le surplus est économisé afin de réalisé vos nouvelles idées pour le club collabs.
					    </div>
				    
					   	<div uib-accordion-group class="panel-default" is-open="status5.open">
					      <uib-accordion-heading>
					        <i class=" icon-comments-alt"></i> Comment je recois mon argent?
					      </uib-accordion-heading>
					      Le marketplace comptabilise votre nombre de vente et les sommes qui vous sont dû.
					      Vous pouvez demander à tout moment le payment des sommes qui vous sont dû dans la rubrique mon compte (Cheque ou virement bancaire).
					    </div>
				    
					   	<div uib-accordion-group class="panel-default" is-open="status6.open">
					      <uib-accordion-heading>
					        <i class="icon-ok"></i> Pourquois des tarifs dégréssif?
					      </uib-accordion-heading>
					      Au club PAI, la priorité est à l'innovation. C'est pourquoi, tout les documents mis sur le marketplace perdent de la valeur au cours du temps. Au bout de 6 mois, un documents perd 25% de sa valeur initial. 1 ans 50%, 1 ans et demi 75% et devients gratuit au bout de 2 ans.
					    </div>
					</uib-accordion>


			        <input type="submit" class="btn btn-primary btn-lg pull-right" wz-next value="Commencer" />
			        <div class="clearfix"></div>
			    </wz-step>


				<wz-step wz-title="Type de document" canexit="exitValidationContenttype">
			        <h2>Choix du type de document</h2>

					<div class="allChoices">
						
						<div class="customradio" ng-class="{selected:formData.contentType == 'etude'}" ng-click="formData.contentType = 'etude'">
							<h3>Étude de marchée</h3>
							<p>Une études de marchée en rapport avec l'agroalimentaire.</p>
							<div class="customcheckbox">
								<i ng-if="formData.contentType != 'etude'" class="fa fa-square-o"></i>
								<i ng-if="formData.contentType == 'etude'" class="fa fa-check-square-o"></i>
							</div>
						</div>
						<div class="customradio" ng-class="{selected:formData.contentType == 'rapport'}" ng-click="formData.contentType = 'rapport'">
							<h3>Rapport d'étonement</h3>
							<p>Un rapport d'actualité sur un sujet précis en rapport avec l'agroalimentaire.</p>
							<div class="customcheckbox">
								<i ng-if="formData.contentType != 'rapport'" class="fa fa-square-o"></i>
								<i ng-if="formData.contentType == 'rapport'" class="fa fa-check-square-o"></i>
							</div>
						</div>
						<div class="customradio" ng-class="{selected:formData.contentType == 'conso'}" ng-click="formData.contentType = 'conso'">
							<h3>Études consomateur</h3>
							<p>>Une études sur la consomation alimentaire.</p>
							<div class="customcheckbox">
								<i ng-if="formData.contentType != 'conso'" class="fa fa-square-o"></i>
								<i ng-if="formData.contentType == 'conso'" class="fa fa-check-square-o"></i>
							</div>
						</div>
						<div class="customradio" ng-class="{selected:formData.contentType == 'tendance'}" ng-click="formData.contentType = 'tendance'">
							<h3>Résumer tendance</h3>
							<p>Un rapport d'actualité sur une tendance précise en rapport avec l'agroalimentaire.</p>
							<div class="customcheckbox">
								<i ng-if="formData.contentType != 'tendance'" class="fa fa-square-o"></i>
								<i ng-if="formData.contentType == 'tendance'" class="fa fa-check-square-o"></i>
							</div>
						</div>
						<div class="customradio" ng-class="{selected:formData.contentType == 'book'}" ng-click="formData.contentType = 'book'">
							<h3>E-books</h3>
							<p>Un livre electronique sur l'agroalimentaire.</p>
							<div class="customcheckbox">
								<i ng-if="formData.contentType != 'book'" class="fa fa-square-o"></i>
								<i ng-if="formData.contentType == 'book'" class="fa fa-check-square-o"></i>
							</div>
						</div>
						<div class="customradio" ng-class="{selected:formData.contentType == 'autre'}" ng-click="formData.contentType = 'autre'">
							<h3>Autre</h3>
							<p>Un autre type de document en rapport avec l'agroalimentaire</p>
							<div class="customcheckbox">
								<i ng-if="formData.contentType != 'autre'" class="fa fa-square-o"></i>
								<i ng-if="formData.contentType == 'autre'" class="fa fa-check-square-o"></i>
							</div>
						</div>
						
					</div>




			        
			        <input type="submit" class="btn btn-primary btn-lg pull-right" wz-next value="Suivant" />
			        <div class="clearfix"></div>
			    </wz-step>

				<wz-step wz-title="Documents"  canexit="exitValidationContenus">
			        <h2>Documents</h2>

					

					<div class="ADDCONTENT-article addImages" >
						
						<div class="form-group">
						  <label >Titre* :</label>
						  <input type="text" ng-blur="update('title')"  ng-model="formData.title" placeholder="le titre de votre choix" class="form-control">
						</div>

						<div class="form-group">
						  <label >Descriptions de vos documents* :</label>
						  <textarea ui-tinymce="tinymceOption" ng-blur="update('content')" ng-model="formData.content" type="text" placeholder="Entrez une courte description de vos documents" class="form-control"> </textarea>
						</div>

						<div class="form-group">
						<label >Catégorie : <i class="icon-question-sign" tooltip-popup-delay='500' tooltip-placement="top-left" uib-tooltip-html="cattooltip"></i></label>
							<tags-input class="mycategoriesinput inputtag  mt" ng-model="formData.categories" on-tag-removed="removeCategory($tag)" on-tag-adding="addCategory($tag)" ng-blur="unselectOnBlur()"  placeholder="Ajouter une catégorie" display-property="name" template="myCatTemplate" add-from-autocomplete-only="true">
				            	<auto-complete source="autocompleteCategories($query)" display-property="name" select-first-match="true" ></auto-complete>
				        	</tags-input>
			        	</div>

			        	<script type="text/ng-template" id="myCatTemplate">
			        		<div class=" cat-template" style="background:{{data.color}}">
						        <div> 
						          <span  style="color:{{data.textColor}}">{{$getDisplayText()}}</span>
						          <a class="remove-button"  style="color:{{data.textColor}}" ng-click="$removeTag()">&#10006;</a>
						        </div>
						     </div>
						</script>

						<!-- tag -->
						<div class="form-group">
							<label >Tag* : <i class="icon-question-sign" tooltip-popup-delay='500' tooltip-placement="top-left" uib-tooltip-html="tagtooltip"></i></label>
						    <tags-input class="mytaginput inputtag mb mt" ng-model="formData.tags" on-tag-removed="removeTag($tag)" on-tag-adding="addTag($tag)" ng-blur="unselectOnBlur()" >
				            	<auto-complete source="autocompleteTag($query)"  select-first-match="true" ></auto-complete>
				        	</tags-input>
						</div>


						<div class="form_title formTitleSpecial">
							<label for="">Ajouter vos documents* :</label>
							<div class="btn " ngf-select="uploadDocument($files)" ng-model="file" ngf-max-size="700MB" > <i class="fa fa-plus"></i></div>
							<div ngf-drop="uploadDocument($files)"  ngf-max-size="20MB"  ngf-drag-over-class="'dragover'" ng-model="document" class="drop-zone" >Déposer vos fichiers ici</div>
						</div>

						
						<div class="clearfix"></div>
						<!-- <div class="smallSeparator"></div> -->

						<div ng-repeat="uploadingDoc in uploadsDocument" class="uploadingDoc" ng-if="uploadingDoc.status == 'progress'">
							<span>{{uploadingDoc.file.name}}</span>
							<span>{{uploadingDoc.text}}</span>
							<md-progress-linear md-mode="determinate" value="{{uploadingDoc.progressPercentage}}"></md-progress-linear>
								
						</div>

						<div class="smallSeparator"></div>
						
						<div ui-sortable ng-model="formData.documents" class="documentList" ng-class="{'nodocument': !formData.documents.length}">
							<div class="document" ng-repeat="doc in formData.documents">
								<span ng-if="doc.type | regex:'image':false" >
									<i class="fa fa-file-image-o"></i>
									<md-tooltip md-direction="top"> Image</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'video':false">
									<i class="fa fa-file-video-o"></i>
									<md-tooltip md-direction="top"> Video</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'pdf':false">
									<i class="fa fa-file-pdf-o"></i>
									<md-tooltip md-direction="top"> Pdf</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'zip':false">
									<i class="fa fa-file-zip-o"></i>
									<md-tooltip md-direction="top"> Archive zip</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'rar':false">
									<i class="fa fa-file-zip-o"></i>
									<md-tooltip md-direction="top"> Archive rar</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'audio':false">
									<i class="fa fa-file-sound-o"></i>
									<md-tooltip md-direction="top"> Fichier audio</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'spreadsheet':false">
									<i class="fa fa-file-excel-o"></i>
									<md-tooltip md-direction="top"> Feuille de calcule</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'text':false">
									<i class="fa fa-file-text-o"></i>
									<md-tooltip md-direction="top"> Document text</md-tooltip>
								</span>
								<span ng-if="doc.type | regex:'word':false">
									<i class="fa fa-file-text-o"></i>
									<md-tooltip md-direction="top"> Document word</md-tooltip>
								</span>
								<span ng-if="!(document.doc.type | regex:'image':false)&&
									        !(document.doc.type | regex:'video':false) &&
									        !(document.doc.type | regex:'pdf':false) &&
									        !(document.doc.type | regex:'zip':false) &&
									        !(document.doc.type | regex:'rar':false) &&
									        !(document.doc.type | regex:'audio':false) &&
									        !(document.doc.type | regex:'spreadsheet':false) &&
									        !(document.doc.type | regex:'excel':false) &&
									        !(document.doc.type | regex:'text':false) &&
									        !(document.doc.type | regex:'word':false)">
									<i class="fa file-text-o"></i>
									<md-tooltip md-direction="top"> {{doc.type}}</md-tooltip>
								</span>

								<span class="documentTitle"> {{ doc.name}}</span>
								<removeremove class="removeremove" action="removeDocument" itemid="doc.id"></removeremove>
							</div>
						</div>

						<!-- <div class="form_title formTitleSpecial">
							<label for="">Ajouter une image : </label>
							<div class="addImageBtnFakeBtn" onclick="$(this).siblings('.addImageBtn').click();"> </div>
							<div class="btn " ngf-select="addImgCrop($files)" ng-model="file" ngf-pattern="'image/*'"
							    ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100"> <i class="fa fa-plus"></i></div>
							<div ngf-drop="addImgCrop($files)" ngf-pattern="'image/*'"
							    ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100" ngf-drag-over-class="'dragover'" ng-model="file" class="drop-zone" >Déposer vos images ici</div>
						</div>
					        drag-over-class="dragover" ng-multiple="false" allow-dir="false"
					        accept=".jpg,.png,.gif">Déposer vos images ici</div>

						

						<div class="imgrelativecontainer">
							
						<div image-crop 
					    		aspect-ratio="imgcrop.aspectRatio" 
					    		img-src="imgcrop.imgSrc" 
					    		img-load="'imgLoader.gif'" 
					    		display-height="imgcrop.displayHeight"
					    		display-width = "imgcrop.displayWidth"
					    		scaled-height="imgcrop.scaledHeight" 
					    		scaled-width="imgcrop.scaledWidth" 
					    		scaled-top="imgcrop.scaledTop" 
					    		scaled-left="imgcrop.scaledLeft" 
					    		container-width="imgcrop.containerWidth" 
					    		container-height="imgcrop.containerHeight" 
					    		style=" width: 100%; position:relative;" class="imageCropper" ng-class="{imageCropperH0: !imgcrop.imgSrc}">
							</div>
						<button ng-if="imgcrop.imgSrc" class="btn red" ng-click="removeImgCrop()">Annuler</button>
						<button ng-if="imgcrop.scaledWidth && !imgcrop.imgEditId" class="btn blue" ng-click="uploadImage()">Ajouter cette image</button>
						<button ng-if="imgcrop.scaledWidth && imgcrop.imgEditId" class="btn blue" ng-click="resizeOnly()">Redimentionner l'image</button>
						<div class="landscapeportrait"  ng-if="imgcrop.scaledWidth">
							<button class="btn blue" ng-click="changeOrientation()"><i class="fa fa-exchange"></i></button>
						</div>
						</div>
						<p class="messageImage"  ng-if="imgcrop.imgSrc && !imgcrop.scaledWidth"><span>Vous devez redimentionner votre image avant de l'envoyer ver le server. <br> Faite un rectangle dessu le plus grand possible.</span></p>
						<div class="clearfix"></div>
						<div class="smallSeparator"></div>

						<div ng-repeat="uploadingImage in uploadingImages" class="uploadingDoc" ng-if="uploadingImage.status == 'progress'">
							<span>{{uploadingImage.file.name}}</span>
							<span>{{uploadingImage.text}}</span>
							<md-progress-linear md-mode="determinate" value="{{uploadingImage.progressPercentage}}"></md-progress-linear>
								
						</div> 

						<div class="smallSeparator"></div>
						<div class="imageList" ui-sortable="sortOption" ng-model="formData.images">
							<figure class="pull-left post__img" ng-repeat="img in formData.images">
								<img class="media-object" ng-src="image/adminThumbs/{{img.filename}}" alt="new">
								<removeremove class="removeremove" action="removeImg" itemid="img.id"></removeremove>
							</figure>
							
						</div> -->
        	
		 	

					</div>


					<div class="blankseparator"></div>
					<div class="clearfix"></div>
			        <!-- <input type="submit" class="btn btn-primary btn-lg pull-left" wz-previous value="Type de contenus" /> -->
			        <input type="submit" class="btn btn-primary btn-lg pull-right" wz-next value="Prix de vente / Validation" />
			        <div class="clearfix"></div>
			    </wz-step>
				<wz-step wz-title="Prix de vente" canenter="enterValidationFinish" canexit="exitValidationFinish">
			    	<h2>Prix de vente</h2>


			        <div class="form-group">
						  <label >Choix du prix initial* (€) mettre 0 pour un document gratuit :</label>
						  <input ng-if="formData.documents.length<2" type="number" ng-blur="chooseprice()"  ng-model="formData.initialPrice" placeholder="le prix initial de ce document" class="form-control">
						  <input ng-if="formData.documents.length>2" type="number" ng-blur="chooseprice()" ng-change="chooseprice()"  ng-model="formData.initialPrice" placeholder="le prix initial de ce pack de documents" class="form-control">
					</div> 

					<div class="form-group" ng-if="formData.initialPrice==0">
						  <label >Nombre de point Collabs demander en echange :</label>
						  <input  type="number" ng-model="formData.nbPoints" placeholder="Nombre de point collabs" class="form-control">
					</div>

					
					<div class="form-group" ng-if="formData.initialPrice>0">
						  <label >Prix recalculer par le marketplace :</label>
						  <div class="flexPrice">
						  		<div id="6m" class="futurePrice">
						  			<div class="date"> pendant 6 mois</div>
						  			<div class="sellprice"> Prix de vente <span>{{calculatePrices.m0.sellprice}}€</span></div>
						  			<div class="benefvendeur"> Bénéfice pour le vendeur : <span>{{calculatePrices.m0.benefvendeur}}€</span></div>
						  		</div>
						  		<div id="12m" class="futurePrice">
						  			<div class="date"> de 6 à 12 mois</div>
						  			<div class="sellprice"> Prix de vente <span>{{calculatePrices.m6.sellprice}}€</span></div>
						  			<div class="benefvendeur"> Bénéfice pour le vendeur : <span>{{calculatePrices.m6.benefvendeur}}€</span></div>
						  		</div>
						  		<div id="18m" class="futurePrice">
						  			<div class="date"> de 12 à 18 mois</div>
						  			<div class="sellprice"> Prix de vente <span>{{calculatePrices.m12.sellprice}}€</span></div>
						  			<div class="benefvendeur"> Bénéfice pour le vendeur : <span>{{calculatePrices.m12.benefvendeur}}€</span></div>
						  		</div>
						  		<div id="24m" class="futurePrice">
						  			<div class="date"> de 18 à 24 mois</div>
						  			<div class="sellprice"> Prix de vente <span>{{calculatePrices.m18.sellprice}}€</span></div>
						  			<div class="benefvendeur"> Bénéfice pour le vendeur : <span>{{calculatePrices.m18.benefvendeur}}€</span></div>
						  		</div>
						  		<div id="freem" class="futurePrice">
						  			<div class="date"> apres 2 ans</div>
						  			<div class="sellprice"> Les documents sont <span>GRATUITS</span></div>
						  			<div class="benefvendeur"> Bénéfice pour le vendeur : <span>Aucuns</span></div>
						  		</div>
						  </div>
					</div>

					<div class="form-group" ng-if="formData.initialPrice>0">
						  <label >Comfirmer les conditions de vente* :</label>
						  <div  ><input type="checkbox" ng-model="formData.comfirmTarif"> J'accepte de laisser le club PAI vendre mes documents au tarifs annoncer ci dessu. </div>
					</div>
					<div class="form-group" ng-if="formData.initialPrice==0">
						  <label >Comfirmer les conditions de vente* :</label>
						  <div  ><input type="checkbox" ng-model="formData.comfirmTarif"> J'accepte de donner mes document au club pai en echange du nombre de point Collabs ci-dessus. </div>
					</div>

					<!-- <div class="alert alert-success pull-left" ng-if="successMessage">
					  <strong>Votre contenus à été posté!</strong> Vous aurez des nouvelles de sa validation dans vos email d'ici quelques jours.
					</div>
					<div class="alert alert-danger pull-left" ng-if="errorMessage">
					  <strong>Une erreur est survenu!</strong> Veuillez reessayer plus tard. Si le problème persiste contactez nous.
					</div> -->
			        <!-- <input type="submit" class="btn btn-primary btn-lg pull-left" wz-previous value="Contenus" /> -->
			        <input ng-if="!finishedWizzard" type="submit" class="btn btn-primary btn-lg pull-right" wz-next value="Valider" />
			        <!-- <a ng-if="finishedWizzard" ui-sref="blog" class="btn btn-primary btn-lg pull-right">Retour au blog</a> -->
			        <!-- <a ng-if="finishedWizzard" ui-sref="blog.add" class="btn btn-primary btn-lg pull-right">Soumettre un autre article</a> -->
			        <div class="clearfix"></div>
			    </wz-step>
				
				</wizard>




			    
			    
			  
			</div>




		</div>
	</div>
</div>